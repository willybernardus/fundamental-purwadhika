<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LogRes1.0</title>
</head>

<body>

</body>
<script>
    let users = [
        { username: 'dino', password: 'abc' },
        { username: 'brando', password: 'theworld' }
    ]
    // val.username == inputuser && val.password==password

    alert('selamat datang')
    do {
        let menuUtama = prompt('1.Register\n2.Login')
        if (menuUtama == 2) {
            // input username dan password
            let username = prompt('username')
            let password = prompt('password')
            // cari data didalam user yang memiliki username dan password sama
            // seperti input username dan password
            // cara for
            // let dataUser=null
            // for(let i=0;i<users.length;i++){
            //     if(users[i].username == username && users[i].password == password){
            //         dataUser=users[i]
            //         // jika koding masuk di if ini artinya users ada
            //     }
            // }
            // kalo tidak ada array akan kosong

            // for bisa digantikan dengan filter return array
            // jika data user tidak null
            // if(dataUser){
            //     alert('berhasil login')
            // }else{
            //     alert('gagal login')
            // }

            //  cara filter 
            let dataUser = users.filter((val) => val.username == username && val.password == password)
            // kalo username dan password tepat maka array pasti ada isinya atleast 1
            if (dataUser.length) {
                alert('berhasil login')
            } else {
                alert('gagal login')
            }
        } else {
            // untuk register cek dulu ada atau tidak username yang diinput didalm database
            // jika sama maka kasih tau ke user bahwa username telah dipakai
            // username nggak boleh sama dengan username yang ada didatabase
            let username, password, confirmPass
            do {
                username = prompt('username')
                // let password=prompt('password')
                let dataUsers = users.filter((val) => val.username == username) //return array yang sudah difilter
                if (dataUsers.length) {
                    alert(' username telah dipakai')
                } else {
                    break
                }
            } while (true);
            do {
                password = prompt('password')
                confirmPass = prompt('password confirm')

                if (password == confirmPass) {

                    users.push({ username, password })
                    break
                } else {
                    alert('password dan confirm beda ulangi')
                }

            } while (true);

        }

        var kembalikeUtama = confirm('kembali ke menu Utama')

    } while (kembalikeUtama);























    // alert('selamat datang')
    // do {
    //     var menuUtama=prompt('1.regis\n2.login')
    //     if(menuUtama == 2){
    //         do {
    //             var username=prompt('username')
    //             var password=prompt('password ')
    //             var userLog =users.filter((val)=>val.username==username && val.password== password)
    //             if(userLog.length){
    //                 alert('berhasil login')
    //                 break
    //             }else{
    //                 alert('tidak login')
    //             }
    //         } while (true);
    //     }else{
    //         do {
    //             var username=prompt('username res')
    //             var password=prompt('password res')
    //             var userLog =users.filter((val)=>val.username==username && val.password== password)
    //             if(userLog.length){
    //                 alert('tidak register karena user sudah terdaftar')
    //                 break
    //             }else{
    //                 users.push({username:username,password:password})
    //                 alert('berhasil register')
    //             }
    //         } while (true);
    //     }
    //     var kembaliKemenuUTama=confirm('kembali ke menu utama ?')

    // } while (kembaliKemenuUTama);

</script>

</html>